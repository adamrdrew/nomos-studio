{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":1,"numPassedTests":106,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":106,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1769281900806,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when document json is not an object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when document json is not an object"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when document json is an object but is not cloneable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when document json is an object but is not cloneable"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns transaction-empty when transaction has no commands","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns transaction-empty when transaction has no commands"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns transaction-too-large when transaction exceeds command limit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns transaction-too-large when transaction exceeds command limit"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns transaction-step-failed when a transaction command array contains an undefined step","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns transaction-step-failed when a transaction command array contains an undefined step"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine applies a single atomic command (non-transaction path)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"applies a single atomic command (non-transaction path)"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns the underlying atomic error for a failing non-transaction command","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns the underlying atomic error for a failing non-transaction command"},{"ancestorTitles":["MapCommandEngine","set-player-start"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-player-start writes player_start onto the map root JSON and keeps selection","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"writes player_start onto the map root JSON and keeps selection"},{"ancestorTitles":["MapCommandEngine","set-player-start"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-player-start rejects non-finite payload numbers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects non-finite payload numbers"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex updates tex for all walls where front_sector matches sectorId and keeps selection","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"updates tex for all walls where front_sector matches sectorId and keeps selection"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex succeeds as a no-op when there are zero matching walls","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"succeeds as a no-op when there are zero matching walls"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex ignores malformed wall entries and still updates matching walls","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"ignores malformed wall entries and still updates matching walls"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex returns invalid-json when walls is missing or not an array","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when walls is missing or not an array"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex returns invalid-json when sectorId is not a non-negative integer","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"returns invalid-json when sectorId is not a non-negative integer"},{"ancestorTitles":["MapCommandEngine","set-sector-wall-tex"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine set-sector-wall-tex returns invalid-json when tex is empty or whitespace-only","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when tex is empty or whitespace-only"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity creates entities array when missing, appends a placement, and selects the new entity","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"creates entities array when missing, appends a placement, and selects the new entity"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity appends to an existing entities array and selects the appended index","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"appends to an existing entities array and selects the appended index"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity rejects non-finite x/y","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects non-finite x/y"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity rejects empty def","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects empty def"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity rejects non-finite yawDeg when provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects non-finite yawDeg when provided"},{"ancestorTitles":["MapCommandEngine","create-entity"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-entity rejects invalid json when entities exists but is not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects invalid json when entities exists but is not an array"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room still allows creating additional rooms after an adjacent join that uses the full target wall as the portal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"still allows creating additional rooms after an adjacent join that uses the full target wall as the portal"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room creates a seed room on an empty map and selects the new sector","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"creates a seed room on an empty map and selects the new sector"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room allocates sector ids starting at 0 and then increments (seed then nested)","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"allocates sector ids starting at 0 and then increments (seed then nested)"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects seed placement when the map is not empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects seed placement when the map is not empty"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room creates a nested rectangle room and selects the new sector","invocations":1,"location":null,"numPassingAsserts":17,"retryReasons":[],"status":"passed","title":"creates a nested rectangle room and selects the new sector"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room creates an adjacent room joined by a portal without reordering existing walls","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"creates an adjacent room joined by a portal without reordering existing walls"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects invalid json when vertices/walls/sectors are missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects invalid json when vertices/walls/sectors are missing"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects invalid size","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects invalid size"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects create-room when defaults do not include enough textures","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"rejects create-room when defaults do not include enough textures"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects nested placement when the room is not fully inside the requested enclosing sector","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"rejects nested placement when the room is not fully inside the requested enclosing sector"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects adjacent placement when snapDistancePx exceeds threshold","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when snapDistancePx exceeds threshold"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects nested placement when the room intersects existing walls","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects nested placement when the room intersects existing walls"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects adjacent placement when target wall is non-collinear with room edges","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when target wall is non-collinear with room edges"},{"ancestorTitles":["MapCommandEngine","create-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine create-room rejects adjacent placement when a door is already bound to the target wall_index","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when a door is already bound to the target wall_index"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room creates a nested concave stamped room, copies properties, and selects the new sector","invocations":1,"location":null,"numPassingAsserts":35,"retryReasons":[],"status":"passed","title":"creates a nested concave stamped room, copies properties, and selects the new sector"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room creates an adjacent stamped room joined by a portal without reordering existing walls","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"creates an adjacent stamped room joined by a portal without reordering existing walls"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room rejects malformed payload when wallProps count does not match polygon edge count","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects malformed payload when wallProps count does not match polygon edge count"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room rejects nested placement when the stamped room intersects existing walls","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects nested placement when the stamped room intersects existing walls"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room rejects adjacent placement when snapDistancePx exceeds threshold","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when snapDistancePx exceeds threshold"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room rejects adjacent placement when target wall does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when target wall does not exist"},{"ancestorTitles":["MapCommandEngine","stamp-room"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine stamp-room rejects adjacent placement when target wall is non-collinear with room edges","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects adjacent placement when target wall is non-collinear with room edges"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine deletes a particle by index","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deletes a particle by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine deletes an entity by index","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deletes an entity by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine deletes a door by id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deletes a door by id"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine clones a light and returns selection set to the new ref","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"clones a light and returns selection set to the new ref"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine clones an entity and returns selection set to the new ref","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"clones an entity and returns selection set to the new ref"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine clones a door and returns selection set to the new ref","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"clones a door and returns selection set to the new ref"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on a light by index","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"updates fields on a light by index"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on a particle by index","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updates fields on a particle by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on an entity by index","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updates fields on an entity by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine update-fields supports unsetting a key via {kind:\"map-edit/unset\"}","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"update-fields supports unsetting a key via {kind:\"map-edit/unset\"}"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine update-fields rejects object values other than {kind:\"map-edit/unset\"}","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"update-fields rejects object values other than {kind:\"map-edit/unset\"}"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on a door by id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"updates fields on a door by id"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on the map root","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"updates fields on the map root"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine allows update-fields on the map root to set an unchanged value","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"allows update-fields on the map root to set an unchanged value"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on a wall by index","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"updates fields on a wall by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine allows update-fields set values to be null","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"allows update-fields set values to be null"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine updates fields on a sector by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"updates fields on a sector by id"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine update-fields allows setting sector ceil_tex to SKY (and back to a texture)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"update-fields allows setting sector ceil_tex to SKY (and back to a texture)"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields target collection is missing or not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields target collection is missing or not an array"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields set contains an empty key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields set contains an empty key"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields set contains a whitespace-only key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields set contains a whitespace-only key"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when update-fields target index does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when update-fields target index does not exist"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when update-fields target index is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when update-fields target index is not an integer"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when update-fields wall index does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when update-fields wall index does not exist"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields door target collection is not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields door target collection is not an array"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when update-fields sector id does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when update-fields sector id does not exist"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields sector target collection is not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields sector target collection is not an array"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields sector id is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields sector id is not an integer"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields target entry is not an object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields target entry is not an object"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields set contains a non-finite number","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields set contains a non-finite number"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when update-fields set contains a non-primitive value","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when update-fields set contains a non-primitive value"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine moves an entity by index, preserving other fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"moves an entity by index, preserving other fields"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when move-entity target has non-finite to.x/to.y","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when move-entity target has non-finite to.x/to.y"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when entities is missing or not an array (move-entity)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when entities is missing or not an array (move-entity)"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-entity index is out of range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-entity index is out of range"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when move-entity source entry is not an object or has invalid x/y","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when move-entity source entry is not an object or has invalid x/y"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine moves a light by index, preserving other fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"moves a light by index, preserving other fields"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when move-light target has non-finite to.x/to.y","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when move-light target has non-finite to.x/to.y"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when lights is missing or not an array (move-light)","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when lights is missing or not an array (move-light)"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-light index is out of range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-light index is out of range"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns invalid-json when move-light source entry is not an object or has invalid x/y","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns invalid-json when move-light source entry is not an object or has invalid x/y"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-light index is negative","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-light index is negative"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-light index is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-light index is not an integer"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-entity index is negative","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-entity index is negative"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns not-found when move-entity index is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when move-entity index is not an integer"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns unsupported-target for an unknown map-edit command kind","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns unsupported-target for an unknown map-edit command kind"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns unsupported-target for an unknown delete target kind","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns unsupported-target for an unknown delete target kind"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine omits label when transaction label is undefined and includes it when present","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"omits label when transaction label is undefined and includes it when present"},{"ancestorTitles":["MapCommandEngine"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine applies a transaction atomically and returns selection clear when deleting the selected target","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"applies a transaction atomically and returns selection clear when deleting the selected target"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns selection clear when deleting the selected particle by index","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns selection clear when deleting the selected particle by index"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns selection clear when deleting the selected door by id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns selection clear when deleting the selected door by id"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine keeps selection when deleting with an explicit null selection ref","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"keeps selection when deleting with an explicit null selection ref"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine keeps selection when deleting and the selected ref kind does not match the delete target kind","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"keeps selection when deleting and the selected ref kind does not match the delete target kind"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine applies a clone and returns selection set to the new ref","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"applies a clone and returns selection set to the new ref"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine ensures cloned door ids are unique by incrementing the copy suffix","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"ensures cloned door ids are unique by incrementing the copy suffix"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door creates a door on a portal wall and selects it (doors missing -> treated as empty)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"creates a door on a portal wall and selects it (doors missing -> treated as empty)"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns not-found when wall index is out of bounds","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when wall index is out of bounds"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns not-found when wall index is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-found when wall index is not an integer"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns not-a-portal when wall back_sector indicates no backing sector","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns not-a-portal when wall back_sector indicates no backing sector"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns door-already-exists when a door already exists at wall_index","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns door-already-exists when a door already exists at wall_index"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns invalid-json when doors is present but not an array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when doors is present but not an array"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns invalid-json when walls entry is not an object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when walls entry is not an object"},{"ancestorTitles":["MapCommandEngine","map-edit/create-door"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine map-edit/create-door returns invalid-json when walls[].back_sector is not an integer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns invalid-json when walls[].back_sector is not an integer"},{"ancestorTitles":["MapCommandEngine"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MapCommandEngine returns transaction-step-failed and does not partially apply when a later step fails","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns transaction-step-failed and does not partially apply when a later step fails"}],"endTime":1769281902131,"message":"","name":"/Users/adam/Development/nomos-studio/src/main/application/maps/MapCommandEngine.test.ts","startTime":1769281900891,"status":"passed","summary":""}],"wasInterrupted":false}
